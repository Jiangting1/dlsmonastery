<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.myspring.cloud.modules.kingdee.mapper.BdDepartmentMapper">
    <select id="findByIdList" resultType="BdDepartment">
        select
            t1.FDEPTID,
            t1.FNUMBER,
            t2.FFULLNAME as FNAME
        from
            T_BD_DEPARTMENT t1,
            T_BD_DEPARTMENT_L t2
        where
            t1.FDEPTID = t2.FDEPTID
        and t1.FDEPTID in
        <foreach item="item" index="index" collection="idList" open="(" separator="," close=")">
            #{item}
        </foreach>
    </select>

    <select id="findByNameLike" resultType="BdDepartment">
        select
        t1.FDEPTID,
        t1.FNUMBER,
        t2.FFULLNAME as FNAME
        from
        T_BD_DEPARTMENT t1,
        T_BD_DEPARTMENT_L t2
        where
        t1.FDEPTID = t2.FDEPTID
        and t2.FFULLNAME like CONCAT('%',#{name},'%')
    </select>

</mapper>
